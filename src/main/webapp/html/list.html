<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8"/>
    <title>Student list</title>
    <link href="../css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="../css/common.css" rel="stylesheet">
    <link href="../css/list/list.css" rel="stylesheet">
</head>
<body>

<header id="header" class="header-fixed-top">
    <div class="dividing-line">
        <button id="toggleNav"><span class="glyphicon glyphicon-ok-sign"></span></button>
        <a href="/logout" class="logout-link prj-link">Logout <span class="glyphicon glyphicon-log-out"></span></a>
    </div>
    <div class="form-inline header-line">
        <span id="utilityMenu" class="btn-menu">
            <button id="addMenuButton" class="btn prj-btn menu-button" title="Add student">
                <span class="glyphicon glyphicon-plus"></span>
            </button>
            <button id="exportMenuButton" class="btn prj-btn menu-button" title="Export to Excel Doc.">
                <img src="../images/excel-icon.png" alt="Export" class="menu-icon">
            </button>
            <button id="distributionMenuButton" class="btn prj-btn menu-button"
                    title="Send message to selected students">
                <span class="glyphicon glyphicon-envelope"></span>
            </button>
        </span>

        <span class="btn-group input-group search-block">
            <input type="text" id="searchLine" class="form-control search-query search-line" placeholder="Name">
            <input type="image" id="startSearchButton" class="btn prj-btn search-button" src="../images/search-icon.png"
                   alt="Find!" title="Search!">
        </span>

        <span class="btn-group tab">
            <button class="btn prj-btn menu-button tab-btn"><img src="../images/ico-students.png" class="menu-icon">
            </button>
            <button class="btn prj-btn menu-button tab-btn"><span class="glyphicon glyphicon-user"></span></button>
        </span>
    </div>

    <div id="filter">
        <button id="addFilterButton" class="btn prj-btn filter-button" title="Add filter">
            <span class="glyphicon glyphicon-filter"></span>
        </button>
        <button id="clearFilter" class="btn prj-btn filter-button" title="Clear filter">
            <span class="glyphicon glyphicon-trash"></span>
        </button>
        <ul id="filterMenu" class="dropdown-menu" role="menu"></ul>
    </div>

    <div id="headerScrollingBlock" class="prj-list-header">
        <div class="list-content">
            <table id="headerFixed" class="table prj-table-striped student-table">
                <colgroup>
                    <col class="header-column-0">
                    <col class="header-column-1">
                    <col class="header-column-2">
                    <col class="header-column-3">
                    <col class="header-column-4">
                    <col class="header-column-5">
                    <col class="header-column-6">
                    <col class="header-column-7">
                    <col class="header-column-8">
                    <col class="header-column-9">
                    <col class="header-column-10">
                </colgroup>
                <thead>
                <tr>
                    <th><input id="checkAll" type="checkbox" title="check/uncheck all"></th>
                    <th>Name</th>
                    <th>Date(work)</th>
                    <th>Faculty</th>
                    <th>Course/<br>Group</th>
                    <th>Graduated</th>
                    <th>Working<br>hour</th>
                    <th>Billable</th>
                    <th>Role on prj.</th>
                    <th>Current<br>technology</th>
                    <th>English</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</header>

<div id="listContent" class="list-content">
    <table id="studTable" class="table prj-table-striped student-table">
        <colgroup>
            <col class="header-column-0">
            <col class="header-column-1">
            <col class="header-column-2">
            <col class="header-column-3">
            <col class="header-column-4">
            <col class="header-column-5">
            <col class="header-column-6">
            <col class="header-column-7">
            <col class="header-column-8">
            <col class="header-column-9">
            <col class="header-column-10">
        </colgroup>

        <tbody>
        </tbody>
    </table>
    <img src="../images/loading.gif" class="load-image-class" id="loading_image" alt="Loading...">
</div>

<label id="infoLabel" class="info-label navbar-fixed-bottom"></label>

<div class='content-locker'>
    <section class='dialog-area'>
        <div class='dialog-header'>
            <span id="closeDialog" class='glyphicon glyphicon-remove dialog-close'></span>
        </div>

        <div class='dialog-content' data-dialog-name='send-message'>
            <div class="dialog-content-central">
                <input type="text" id="subjectField" placeholder="Subject" class="dialog-input">
                <textarea id="sentMessage" class="message-area dialog-input" placeholder="Message"></textarea>
            </div>
            <div class="dialog-footer">
                <button id='sendButton' class="btn prj-btn">
                    <span class="glyphicon glyphicon-envelope"></span>Send
                </button>
            </div>
        </div>
        <div class='dialog-content' data-dialog-name='inaccessible-mail'>
            <div class="dialog-content-central">
                <label for="inaccessibleMailList"> Can't send to : </label>
                <ul id="inaccessibleMailList">
                </ul>
                <script id="mailListTemplate" type="text/x-handlebars-template">
                    {{#each mails}}
                    <li>
                        <span class="glyphicon glyphicon-ban-circle"></span> {{this}},
                    </li>
                    {{/each}}
                </script>
            </div>
            <div class="dialog-footer">
                <button id='closeMessageButton' class="btn prj-btn">
                    <span class="glyphicon glyphicon-ok"></span>Ok
                </button>
            </div>
        </div>
        <div class='dialog-content' data-dialog-name='add-student'>
            <div class="dialog-content-central form-horizontal">
                <div class="form-group">
                    <label for="nameField" class="col-sm-2 control-label">Name: </label>
                    <input type="text" id="nameField" placeholder="name">
                </div>
                <div class="form-group">
                    <label for="nameField" class="col-sm-2 control-label">Login: </label>
                    <input type="text" id="loginField" placeholder="login">
                </div>
                <div class="form-group">
                    <label for="stateField" class="col-sm-2 control-label">State: </label>
                    <select id="stateField" title="role">
                        <option>working</option>
                        <option>training</option>
                    </select>
                </div>
            </div>
            <div class="dialog-footer">
                <button id='createUser' class="btn prj-btn">
                    <span class="glyphicon glyphicon-ok"></span>Ok
                </button>
            </div>
        </div>
    </section>
</div>

<script src="../js/lib/require.js"></script>
<script>
    require(["../js/main.js"], function () {
        require(["jquery", "ListHeader", "ListController", "Filter",
                    "ListLoader", "ListUtil", "Util"],
                function ($, ListHeader, ListController, Filter, ListLoader, ListUtil, util) {
                    "use strict";
                    $(window).ready(function () {
                        ListHeader.init();
                    });
                    $(document).ready(function () {
                        $(".logout-link").click(util.logout);

                        ListController.init();
                        Filter.init();
                        Filter.loadDescription("/list/filterDescription");
                        ListLoader.init();
                        ListUtil.init();
                    });

                    $(document).ready(function () {
                        $("#toggleNav").click(
                                function () {
                                    var f = $("#filter");
                                    if (f.is(":visible")) {
                                        f.fadeOut(500, ListHeader.check);
                                    }
                                    else {
                                        f.fadeIn(500);
                                        ListHeader.check();
                                    }
                                }
                        );
                    });
                }
        );
    });
</script>
</body>
</html>